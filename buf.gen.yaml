version: v1
managed:
  enabled: true
plugins:
  - remote: buf.build/protocolbuffers/plugins/js
    out: src/api-spec/protobuf/gen/js
    opt:
      - import_style=commonjs
      - binary

  - remote: buf.build/grpc/plugins/web
    out: src/api-spec/protobuf/gen/js
    opt:
      - import_style=typescript
      - mode=grpcwebtext

  - remote: buf.build/grpc/plugins/node
    out: src/api-spec/protobuf/gen/js
    opt:
      - import_style=commonjs
      - binary

  - name: ts-node
    out: src/api-spec/protobuf/gen/js
    opt:
      - service=grpc-node
    path: ./node_modules/.bin/protoc-gen-ts